function save_tif(im,file_name)

t = Tiff(file_name,'w');
tagstruct.ImageLength = size(im,1); % ?????
tagstruct.ImageWidth = size(im,2); % ?????

% ??????????????3.1?
tagstruct.Photometric = 1;

% ??????????single??????????32????32
tagstruct.BitsPerSample = 32;
% ???????????????1?3?????????????????????3
tagstruct.SamplesPerPixel = 1;
tagstruct.RowsPerStrip = 16;
tagstruct.PlanarConfiguration = Tiff.PlanarConfiguration.Chunky;
% ?????????
tagstruct.Software = 'MATLAB'; 
% ??????????
tagstruct.SampleFormat = 3;
% ??Tiff???tag
t.setTag(tagstruct)

% ?????????????
t.write(im);
% ????
t.close
